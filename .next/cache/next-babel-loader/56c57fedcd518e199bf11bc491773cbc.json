{"ast":null,"code":"import * as firebase from \"firebase\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC70LAhPV1qHunyNoZbOAk7QRUEh57PPbQ\",\n  authDomain: \"devter-6661a.firebaseapp.com\",\n  databaseURL: \"https://devter-6661a.firebaseio.com\",\n  projectId: \"devter-6661a\",\n  storageBucket: \"devter-6661a.appspot.com\",\n  messagingSenderId: \"807038871343\",\n  appId: \"1:807038871343:web:cb90ded09f7def7d8063da\",\n  measurementId: \"G-909SM8WT3B\"\n};\n!firebase.apps.length && firebase.initializeApp(firebaseConfig); //verify \n\nconst db = firebase.firestore();\n\nconst mapUserFromFirebaseAuthToUser = user => {\n  const {\n    displayName,\n    email,\n    photoURL,\n    uid\n  } = user;\n  return {\n    avatar: photoURL,\n    username: displayName,\n    email,\n    uid\n  };\n};\n\nexport const onAuthStateChanged = onChange => {\n  return firebase.auth().onAuthStateChanged(user => {\n    const normalizedUser = user ? mapUserFromFirebaseAuthToUser(user) : null;\n    onChange(normalizedUser);\n  });\n};\nexport const loginWithGitHub = () => {\n  const githubProvider = new firebase.auth.GithubAuthProvider();\n  return firebase.auth().signInWithPopup(githubProvider);\n};\nexport const addDevid = ({\n  avatar,\n  uid,\n  message,\n  username\n}) => {\n  console.log(avatar, uid, message, username);\n  return db.collection('devits').doc().set({\n    avatar,\n    uid,\n    message,\n    username,\n    createdAt: firebase.firestore.Timestamp.fromDate(new Date()),\n    likeCount: 0,\n    sharedCount: 0\n  }).then(res => console.log(\"documento saved\")).catch(err => console.log(err));\n};","map":{"version":3,"sources":["/home/lnardev/Documentos/devter/firebase/client.js"],"names":["firebase","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","apps","length","initializeApp","db","firestore","mapUserFromFirebaseAuthToUser","user","displayName","email","photoURL","uid","avatar","username","onAuthStateChanged","onChange","auth","normalizedUser","loginWithGitHub","githubProvider","GithubAuthProvider","signInWithPopup","addDevid","message","console","log","collection","doc","set","createdAt","Timestamp","fromDate","Date","likeCount","sharedCount","then","res","catch","err"],"mappings":"AAAA,OAAO,KAAKA,QAAZ,MAA0B,UAA1B;AAEA,MAAMC,cAAc,GAAG;AACrBC,EAAAA,MAAM,EAAE,yCADa;AAErBC,EAAAA,UAAU,EAAE,8BAFS;AAGrBC,EAAAA,WAAW,EAAE,qCAHQ;AAIrBC,EAAAA,SAAS,EAAE,cAJU;AAKrBC,EAAAA,aAAa,EAAE,0BALM;AAMrBC,EAAAA,iBAAiB,EAAE,cANE;AAOrBC,EAAAA,KAAK,EAAE,2CAPc;AAQrBC,EAAAA,aAAa,EAAE;AARM,CAAvB;AAYA,CAACT,QAAQ,CAACU,IAAT,CAAcC,MAAf,IAAyBX,QAAQ,CAACY,aAAT,CAAuBX,cAAvB,CAAzB,C,CAA+D;;AAC/D,MAAMY,EAAE,GAAGb,QAAQ,CAACc,SAAT,EAAX;;AACG,MAAMC,6BAA6B,GAAIC,IAAD,IAAU;AACjD,QAAM;AAAEC,IAAAA,WAAF;AAAeC,IAAAA,KAAf;AAAsBC,IAAAA,QAAtB;AAA+BC,IAAAA;AAA/B,MAAuCJ,IAA7C;AACA,SAAO;AACLK,IAAAA,MAAM,EAAEF,QADH;AAELG,IAAAA,QAAQ,EAAEL,WAFL;AAGLC,IAAAA,KAHK;AAILE,IAAAA;AAJK,GAAP;AAMD,CARE;;AASH,OAAO,MAAMG,kBAAkB,GAAIC,QAAD,IAAc;AAC9C,SAAOxB,QAAQ,CAACyB,IAAT,GAAgBF,kBAAhB,CAAoCP,IAAD,IAAU;AAClD,UAAMU,cAAc,GAAGV,IAAI,GAAGD,6BAA6B,CAACC,IAAD,CAAhC,GAAyC,IAApE;AACAQ,IAAAA,QAAQ,CAACE,cAAD,CAAR;AACD,GAHM,CAAP;AAID,CALM;AAOP,OAAO,MAAMC,eAAe,GAAG,MAAM;AACnC,QAAMC,cAAc,GAAG,IAAI5B,QAAQ,CAACyB,IAAT,CAAcI,kBAAlB,EAAvB;AACA,SAAO7B,QAAQ,CAACyB,IAAT,GAAgBK,eAAhB,CAAgCF,cAAhC,CAAP;AACD,CAHM;AAMP,OAAO,MAAMG,QAAQ,GAAG,CAAC;AAACV,EAAAA,MAAD;AAASD,EAAAA,GAAT;AAAcY,EAAAA,OAAd;AAAuBV,EAAAA;AAAvB,CAAD,KAAoC;AAC1DW,EAAAA,OAAO,CAACC,GAAR,CAAYb,MAAZ,EAAoBD,GAApB,EAAyBY,OAAzB,EAAkCV,QAAlC;AACA,SAAOT,EAAE,CAACsB,UAAH,CAAc,QAAd,EAAwBC,GAAxB,GAA8BC,GAA9B,CACL;AAAChB,IAAAA,MAAD;AACED,IAAAA,GADF;AAEEY,IAAAA,OAFF;AAGEV,IAAAA,QAHF;AAIEgB,IAAAA,SAAS,EAAEtC,QAAQ,CAACc,SAAT,CAAmByB,SAAnB,CAA6BC,QAA7B,CAAsC,IAAIC,IAAJ,EAAtC,CAJb;AAKEC,IAAAA,SAAS,EAAC,CALZ;AAMEC,IAAAA,WAAW,EAAC;AANd,GADK,EAQFC,IARE,CAQGC,GAAG,IAAEZ,OAAO,CAACC,GAAR,CAAY,iBAAZ,CARR,EAQwCY,KARxC,CAQ8CC,GAAG,IAAEd,OAAO,CAACC,GAAR,CAAYa,GAAZ,CARnD,CAAP;AASD,CAXM","sourcesContent":["import * as firebase from \"firebase\"\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC70LAhPV1qHunyNoZbOAk7QRUEh57PPbQ\",\n  authDomain: \"devter-6661a.firebaseapp.com\",\n  databaseURL: \"https://devter-6661a.firebaseio.com\",\n  projectId: \"devter-6661a\",\n  storageBucket: \"devter-6661a.appspot.com\",\n  messagingSenderId: \"807038871343\",\n  appId: \"1:807038871343:web:cb90ded09f7def7d8063da\",\n  measurementId: \"G-909SM8WT3B\",\n}\n \n\n!firebase.apps.length && firebase.initializeApp(firebaseConfig)//verify \nconst db = firebase.firestore();\n   const mapUserFromFirebaseAuthToUser = (user) => {\n  const { displayName, email, photoURL,uid } = user\n  return {\n    avatar: photoURL,\n    username: displayName,\n    email,\n    uid\n  }\n}\nexport const onAuthStateChanged = (onChange) => {\n  return firebase.auth().onAuthStateChanged((user) => {\n    const normalizedUser = user ? mapUserFromFirebaseAuthToUser(user) : null\n    onChange(normalizedUser)\n  })\n}\n\nexport const loginWithGitHub = () => {\n  const githubProvider = new firebase.auth.GithubAuthProvider()\n  return firebase.auth().signInWithPopup(githubProvider)\n}\n\n\nexport const addDevid = ({avatar ,uid, message, username})=>{\n  console.log(avatar, uid, message, username)\n  return db.collection('devits').doc().set(\n    {avatar,\n      uid,\n      message,\n      username,\n      createdAt: firebase.firestore.Timestamp.fromDate(new Date()),\n      likeCount:0,\n      sharedCount:0\n    }).then(res=>console.log(\"documento saved\")).catch(err=>console.log(err))\n}\n"]},"metadata":{},"sourceType":"module"}