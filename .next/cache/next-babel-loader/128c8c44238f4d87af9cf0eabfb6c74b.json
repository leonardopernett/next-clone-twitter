{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as firebase from \"firebase\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDSLjDcA6IfXh7o9xLaSYNT6XH08euolP8\",\n  authDomain: \"react-f137b.firebaseapp.com\",\n  projectId: \"react-f137b\",\n  storageBucket: \"react-f137b.appspot.com\",\n  messagingSenderId: \"1087052118047\",\n  appId: \"1:1087052118047:web:c80e68ce39b19a1c3bbd2a\",\n  databaseURL: 'https://react-f137b.firebaseio.com'\n};\n!firebase.apps.length && firebase.initializeApp(firebaseConfig); //verify \n\nvar db = firebase.firestore();\n\nvar mapUserFromFirebaseAuthToUser = function mapUserFromFirebaseAuthToUser(user) {\n  var displayName = user.displayName,\n      email = user.email,\n      photoURL = user.photoURL,\n      uid = user.uid;\n  return {\n    avatar: photoURL,\n    username: displayName,\n    email: email,\n    uid: uid\n  };\n};\n\nexport var onAuthStateChanged = function onAuthStateChanged(onChange) {\n  return firebase.auth().onAuthStateChanged(function (user) {\n    var normalizedUser = user ? mapUserFromFirebaseAuthToUser(user) : null;\n    onChange(normalizedUser);\n  });\n};\nexport var loginWithGitHub = function loginWithGitHub() {\n  var githubProvider = new firebase.auth.GithubAuthProvider();\n  return firebase.auth().signInWithPopup(githubProvider);\n};\nexport var addDevit = function addDevit(_ref) {\n  var avatar = _ref.avatar,\n      uid = _ref.uid,\n      message = _ref.message,\n      username = _ref.username;\n  return db.collection('devits').add({\n    avatar: avatar,\n    uid: uid,\n    message: message,\n    username: username,\n    createdAt: firebase.firestore.Timestamp.fromDate(new Date()),\n    likeCount: 0,\n    sharedCount: 0\n  });\n};\nexport var fetchDevit = function fetchDevit() {\n  return db.collection('devits').get().then(function (snapShot) {\n    return snapShot.docs.map(function (doc) {\n      var data = doc.data();\n      var id = doc.id;\n      return _objectSpread({\n        id: id\n      }, data);\n    });\n  });\n};","map":{"version":3,"sources":["/home/lnardev/Documentos/devter/firebase/client.js"],"names":["firebase","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","databaseURL","apps","length","initializeApp","db","firestore","mapUserFromFirebaseAuthToUser","user","displayName","email","photoURL","uid","avatar","username","onAuthStateChanged","onChange","auth","normalizedUser","loginWithGitHub","githubProvider","GithubAuthProvider","signInWithPopup","addDevit","message","collection","add","createdAt","Timestamp","fromDate","Date","likeCount","sharedCount","fetchDevit","get","then","snapShot","docs","map","doc","data","id"],"mappings":"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","sourcesContent":["import * as firebase from \"firebase\"\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDSLjDcA6IfXh7o9xLaSYNT6XH08euolP8\",\n    authDomain: \"react-f137b.firebaseapp.com\",\n    projectId: \"react-f137b\",\n    storageBucket: \"react-f137b.appspot.com\",\n    messagingSenderId: \"1087052118047\",\n    appId: \"1:1087052118047:web:c80e68ce39b19a1c3bbd2a\",\n    databaseURL:'https://react-f137b.firebaseio.com'\n}\n \n\n!firebase.apps.length && firebase.initializeApp(firebaseConfig)//verify \nconst db = firebase.firestore();\n   const mapUserFromFirebaseAuthToUser = (user) => {\n  const { displayName, email, photoURL,uid } = user\n  return {\n    avatar: photoURL,\n    username: displayName,\n    email,\n    uid\n  }\n}\nexport const onAuthStateChanged = (onChange) => {\n  return firebase.auth().onAuthStateChanged((user) => {\n    const normalizedUser = user ? mapUserFromFirebaseAuthToUser(user) : null\n    onChange(normalizedUser)\n  })\n}\n\nexport const loginWithGitHub = () => {\n  const githubProvider = new firebase.auth.GithubAuthProvider()\n  return firebase.auth().signInWithPopup(githubProvider)\n}\n\n\nexport const addDevit = ({avatar ,uid, message, username})=>{\n  return db.collection('devits')\n  .add({avatar,\n      uid,\n      message,\n      username,\n      createdAt: firebase.firestore.Timestamp.fromDate(new Date()),\n      likeCount:0,\n      sharedCount:0\n    })\n}\n\nexport const fetchDevit = ()=>{\n  return db.collection('devits')\n     .get()\n     .then(snapShot=>{\n         return snapShot.docs.map(doc=>{\n             const data = doc.data()\n             const id = doc.id\n             return {\n               id,\n               ...data\n             }\n         })\n     })\n}"]},"metadata":{},"sourceType":"module"}